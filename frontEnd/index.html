<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Instagram Clone</title>

  <link rel="icon" type="image/png" href="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/index.css">
</head>
<body>
  <!-- Navbar -->
  <div class="navbar">
    <div class="logo">Instagram</div>
    <div class="navbar-right">
      <div class="post-btn" onclick="openModal()">+</div>
      <div class="profile-wrapper">
        <span class="welcome-text"><strong id="username">User</strong></span>
        <div class="profile-pic-container" onclick="toggleDropdown(event)">
          <img src="https://cdn.pixabay.com/photo/2015/03/04/22/35/avatar-659652_640.png" id="profile_pic" alt="Profile" />
        </div>
        <div class="dropdown" id="dropdownMenu">
          <a href="profile.html" class="dropdown-item">ðŸ‘¤ Profile</a>
          <button onclick="signout()" class="dropdown-item">ðŸšª Logout</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Upload Modal -->
  <div class="modal" id="uploadModal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal()">Ã—</span>
      <h2>Create a New Post</h2>
      <input type="file" id="post" accept="image/*" required />
      <textarea id="description" placeholder="Write a caption..." required></textarea>
      <div class="preview" id="preview"></div>
      <button onclick="addPost()">Share Post</button>
    </div>
  </div>

  <!-- Post Section -->
  <h2 id="username" class="username"></h2>
  <br><br><br>
  <div class="posts" id="posts"></div>

  <!-- <a href="login.html">login</a>
  <a href="signup.html">signup</a> -->

  <script>
    function toggleDropdown(event) {
      event.stopPropagation()
      const dropdown = document.getElementById("dropdownMenu")
      dropdown.style.display = dropdown.style.display === "block" ? "none" : "block"
    }

    document.addEventListener("click", function (e) {
      const dropdown = document.getElementById("dropdownMenu")
      if (!e.target.closest('.profile-pic-container img')) {
        dropdown.style.display = "none"
      }
    })

    const modal = document.getElementById('uploadModal')

    function openModal() {
      modal.style.display = 'flex'
    }

    function closeModal() {
      modal.style.display = 'none'
      document.getElementById('postImage').value = ''
      document.getElementById('postDescription').value = ''
    }


   
  </script>

  <script src="js/index.js"></script>
</body>
</html>